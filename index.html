<script>
    // Function to check if the device is in portrait mode
    function isPortraitMode() {
        return window.innerWidth <= 768 && window.matchMedia("(orientation: portrait)").matches;
    }

    // Update pages to handle portrait mode
    function updatePages() {
        const leftPage = document.getElementById('left-page');
        const rightPage = document.getElementById('right-page');

        if (currentPage === 1) {
            // Display only the left page (cover page)
            leftPage.src = `Re-Viewing the Gaze Catalogue_Page_01.png`;
            rightPage.style.visibility = 'hidden';
        } else if (isPortraitMode()) {
            // Display single page in portrait mode
            leftPage.src = `Re-Viewing the Gaze Catalogue_Page_${String(currentPage).padStart(2, '0')}.png`;
            rightPage.style.visibility = 'hidden';
        } else {
            // Display two-page spread in landscape mode
            leftPage.src = `Re-Viewing the Gaze Catalogue_Page_${String(currentPage).padStart(2, '0')}.png`;
            if (currentPage < totalPages) {
                rightPage.src = `Re-Viewing the Gaze Catalogue_Page_${String(currentPage + 1).padStart(2, '0')}.png`;
                rightPage.style.visibility = 'visible';
            } else {
                rightPage.style.visibility = 'hidden';
            }
        }
    }

    // Recalculate layout on window resize
    window.addEventListener("resize", updatePages);
</script>
